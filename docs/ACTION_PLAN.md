# üéØ PLANO DE A√á√ÉO - JURIS-MAIDEN-FINAL

> **Vers√£o:** 1.0  
> **Data:** 20/12/2025  
> **Status:** Em execu√ß√£o

---

## üìä VIS√ÉO GERAL

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                      ROADMAP DO PROJETO                         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                 ‚îÇ
‚îÇ  FASE 1: Estabiliza√ß√£o          ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë  80%           ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ Sprint 11 (20/12/2025)                                     ‚îÇ
‚îÇ      ‚îú‚îÄ‚îÄ ‚úÖ Corre√ß√£o de bugs                                    ‚îÇ
‚îÇ      ‚îú‚îÄ‚îÄ ‚úÖ Documenta√ß√£o                                        ‚îÇ
‚îÇ      ‚îú‚îÄ‚îÄ üîÑ GitHub                                              ‚îÇ
‚îÇ      ‚îî‚îÄ‚îÄ üî≤ Testes e Seed                                       ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  FASE 2: Melhorias              ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë   0%           ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ Sprints 12-14 (21-27/12/2025)                              ‚îÇ
‚îÇ      ‚îú‚îÄ‚îÄ üî≤ Campos OAB no User                                  ‚îÇ
‚îÇ      ‚îú‚îÄ‚îÄ üî≤ Modelo Process expandido                            ‚îÇ
‚îÇ      ‚îú‚îÄ‚îÄ üî≤ Templates de Documentos                             ‚îÇ
‚îÇ      ‚îî‚îÄ‚îÄ üî≤ √Åreas do Direito                                    ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  FASE 3: Integra√ß√µes            ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë   0%           ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ Sprints 15-18 (Jan/2026)                                   ‚îÇ
‚îÇ      ‚îú‚îÄ‚îÄ üî≤ Google Calendar                                     ‚îÇ
‚îÇ      ‚îú‚îÄ‚îÄ üî≤ Portal do Cliente                                   ‚îÇ
‚îÇ      ‚îî‚îÄ‚îÄ üî≤ WhatsApp API                                        ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  FASE 4: Avan√ßado               ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë   0%           ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ Sprints 19+ (Fev/2026+)                                    ‚îÇ
‚îÇ      ‚îú‚îÄ‚îÄ üî≤ Jurimetria                                          ‚îÇ
‚îÇ      ‚îú‚îÄ‚îÄ üî≤ Assinatura Digital                                  ‚îÇ
‚îÇ      ‚îî‚îÄ‚îÄ üî≤ Multi-tenancy                                       ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üö® RISCOS E MITIGA√á√ïES

### Risco #1: Over-engineering (PRINCIPAL - causou abandono anteriores)
| Campo | Valor |
|-------|-------|
| **Probabilidade** | üî¥ Alta (hist√≥rico) |
| **Impacto** | üî¥ Cr√≠tico (abandono) |
| **Mitiga√ß√£o** | Sprints pequenos, MVP primeiro, documentar antes de implementar |
| **Indicadores** | Mais de 3 features em paralelo, c√≥digo n√£o testado acumulando |

### Risco #2: Falta de documenta√ß√£o
| Campo | Valor |
|-------|-------|
| **Probabilidade** | üü° M√©dia |
| **Impacto** | üî¥ Cr√≠tico (projeto incompreens√≠vel) |
| **Mitiga√ß√£o** | Atualizar IMPLEMENTATION_LOG.md a cada sess√£o |
| **Indicadores** | √öltima atualiza√ß√£o > 3 dias |

### Risco #3: Depend√™ncias desatualizadas
| Campo | Valor |
|-------|-------|
| **Probabilidade** | üü° M√©dia |
| **Impacto** | üü° M√©dio |
| **Mitiga√ß√£o** | `composer update` mensal, verificar changelogs |
| **Indicadores** | Security warnings do GitHub |

### Risco #4: Falta de testes
| Campo | Valor |
|-------|-------|
| **Probabilidade** | üî¥ Alta (n√£o implementados) |
| **Impacto** | üü° M√©dio (bugs em produ√ß√£o) |
| **Mitiga√ß√£o** | Adicionar testes nas pr√≥ximas fases |
| **Indicadores** | Bugs recorrentes ap√≥s deploys |

### Risco #5: Complexidade de integra√ß√µes externas
| Campo | Valor |
|-------|-------|
| **Probabilidade** | üü° M√©dia |
| **Impacto** | üü° M√©dio (features n√£o funcionando) |
| **Mitiga√ß√£o** | POC antes de integrar, fallbacks |
| **Indicadores** | APIs externas indispon√≠veis |

---

## üìã FASE 1: ESTABILIZA√á√ÉO (Sprint 11)

### Objetivo
Garantir que o MVP funciona 100% antes de adicionar novas features.

### Tarefas Detalhadas

#### 1.1 ‚úÖ Corre√ß√£o: service_date ‚Üí scheduled_datetime
- **Status:** Conclu√≠do
- **Arquivos:** 8 arquivos corrigidos
- **Verifica√ß√£o:** Query testada e funcionando

#### 1.2 ‚úÖ Corre√ß√£o: Livewire assets 404
- **Status:** Conclu√≠do
- **Solu√ß√£o:** Assets publicados + config
- **Verifica√ß√£o:** Login funcionando

#### 1.3 üîÑ Configurar reposit√≥rio GitHub
- **Status:** Em andamento
- **Subtarefas:**
  ```bash
  # 1. Inicializar git
  cd "/home/funil/√Årea de trabalho/VISUAL CODE/PROJETO 1/logisticajus"
  git init
  
  # 2. Criar .gitignore adequado
  # (j√° existe, verificar se est√° completo)
  
  # 3. Adicionar remote
  git remote add origin https://github.com/funil66/JURIS-MAIDEN-FINAL.git
  
  # 4. Primeiro commit
  git add .
  git commit -m "üöÄ Initial commit - Log√≠sticaJus MVP"
  
  # 5. Push
  git push -u origin main
  ```

#### 1.4 ‚úÖ Criar documenta√ß√£o
- **Status:** Conclu√≠do
- **Arquivos criados:**
  - docs/IMPLEMENTATION_LOG.md
  - docs/ACTION_PLAN.md (este arquivo)

#### 1.5 üî≤ Testar todos os CRUDs
- **Status:** Pendente
- **Checklist:**
  - [ ] Clients: Create, Read, Update, Delete, Restore
  - [ ] Services: Create, Read, Update, Delete, Restore
  - [ ] ServiceTypes: Create, Read, Update, Delete
  - [ ] Events: Create, Read, Update, Delete
  - [ ] Transactions: Create, Read, Update, Delete
  - [ ] PaymentMethods: Create, Read, Update, Delete

#### 1.6 üî≤ Testar relat√≥rios
- **Status:** Pendente
- **Checklist:**
  - [ ] Relat√≥rio de Servi√ßos (PDF)
  - [ ] Relat√≥rio de Clientes (PDF)
  - [ ] Relat√≥rio Financeiro (PDF)
  - [ ] Relat√≥rio Geral (PDF)
  - [ ] Export Excel
  - [ ] Export CSV

#### 1.7 üî≤ Testar calend√°rio
- **Status:** Pendente
- **Checklist:**
  - [ ] Visualiza√ß√£o mensal
  - [ ] Visualiza√ß√£o semanal
  - [ ] Criar evento pelo calend√°rio
  - [ ] Editar evento pelo calend√°rio
  - [ ] Cores por tipo de evento

#### 1.8 üî≤ Criar seed de dados de teste
- **Status:** Pendente
- **Dados a criar:**
  - 10 clientes (5 PF, 5 PJ)
  - 20 servi√ßos variados
  - 15 eventos no calend√°rio
  - 30 transa√ß√µes (receitas e despesas)

---

## üìã FASE 2: MELHORIAS (Sprints 12-14)

### Sprint 12: Campos OAB e Trait HasUuid

#### 2.1 Migration: Campos OAB no User
```php
// database/migrations/xxxx_add_oab_fields_to_users_table.php
Schema::table('users', function (Blueprint $table) {
    $table->string('oab', 20)->nullable()->after('email');
    $table->string('oab_uf', 2)->nullable()->after('oab');
    $table->json('specialties')->nullable()->after('oab_uf'); // √Åreas de atua√ß√£o
    $table->string('phone', 20)->nullable()->after('specialties');
    $table->text('bio')->nullable()->after('phone');
});
```

#### 2.2 Criar Trait HasUuid
```php
// app/Traits/HasUuid.php
namespace App\Traits;

use Illuminate\Support\Str;

trait HasUuid
{
    protected static function bootHasUuid(): void
    {
        static::creating(function ($model) {
            if (empty($model->uuid)) {
                $model->uuid = Str::uuid()->toString();
            }
        });
    }
}
```

### Sprint 13: Expandir modelo Service

#### 2.3 Migration: Campos de processo no Service
```php
// J√° existe process_number, court, jurisdiction, state
// Adicionar:
Schema::table('services', function (Blueprint $table) {
    $table->string('judge_name')->nullable()->after('jurisdiction');
    $table->string('court_section')->nullable()->after('judge_name'); // Vara
    $table->string('plaintiff_lawyer')->nullable()->after('plaintiff');
    $table->string('defendant_lawyer')->nullable()->after('defendant');
    $table->string('action_type')->nullable()->after('defendant_lawyer'); // Tipo de a√ß√£o
    $table->foreignId('legal_area_id')->nullable()->after('action_type');
});
```

#### 2.4 Criar modelo LegalArea (√Åreas do Direito)
```php
// app/Models/LegalArea.php
// Campos: id, name, slug, description, icon, color, is_active

// Seeder com √°reas:
// - Direito Civil
// - Direito Trabalhista
// - Direito Criminal
// - Direito Previdenci√°rio
// - Direito Tribut√°rio
// - Direito do Consumidor
// - Direito de Fam√≠lia
// - Direito Empresarial
// - Direito Administrativo
// - Direito Ambiental
```

### Sprint 14: Templates de Documentos

#### 2.5 Criar modelo Template
```php
// app/Models/Template.php
// Campos: id, name, category, content (texto com vari√°veis), variables (json), is_active

// Vari√°veis suportadas:
// {{cliente.nome}}, {{cliente.documento}}, {{cliente.endereco}}
// {{servico.codigo}}, {{servico.tipo}}, {{servico.data}}
// {{processo.numero}}, {{processo.tribunal}}, {{processo.vara}}
// {{usuario.nome}}, {{usuario.oab}}, {{data.atual}}
```

#### 2.6 Criar modelo GeneratedDocument
```php
// app/Models/GeneratedDocument.php
// Campos: id, template_id, service_id, client_id, generated_by, content, file_path
```

#### 2.7 TemplateResource com editor
- CRUD de templates
- Editor com preview de vari√°veis
- Gera√ß√£o de PDF a partir do template

---

## üìã FASE 3: INTEGRA√á√ïES (Sprints 15-18)

### Sprint 15-16: Google Calendar

#### Passos:
1. Criar projeto no Google Cloud Console
2. Habilitar Calendar API
3. Configurar OAuth 2.0
4. Instalar `google/apiclient`
5. Criar GoogleCalendarService
6. Sincroniza√ß√£o bidirecional de eventos

#### Campos adicionais necess√°rios:
```php
Schema::table('users', function (Blueprint $table) {
    $table->json('google_tokens')->nullable();
    $table->string('google_calendar_id')->nullable();
});
```

### Sprint 17: Portal do Cliente

#### Estrutura:
- Novo painel Filament: `/cliente`
- Autentica√ß√£o separada (clients como usu√°rios)
- Visualiza√ß√£o de servi√ßos do cliente
- Hist√≥rico de transa√ß√µes
- Documentos gerados
- Chat/mensagens (opcional)

#### Campos adicionais:
```php
Schema::table('clients', function (Blueprint $table) {
    $table->string('portal_password')->nullable();
    $table->boolean('portal_enabled')->default(false);
    $table->timestamp('last_portal_login')->nullable();
});
```

### Sprint 18: WhatsApp API

#### Op√ß√µes:
1. **Twilio WhatsApp** (pago, mais f√°cil)
2. **WhatsApp Business API** (oficial, mais complexo)
3. **Baileys/Venom** (n√£o oficial, gratuito)

#### Implementa√ß√£o:
- Notifica√ß√µes via WhatsApp
- Lembretes de servi√ßos
- Lembretes de pagamentos
- Confirma√ß√£o de audi√™ncias

---

## üìã FASE 4: AVAN√áADO (Sprints 19+)

### Jurimetria
- Estat√≠sticas de resultados por tipo de a√ß√£o
- Tempo m√©dio por tipo de servi√ßo
- Taxa de sucesso por comarca/tribunal
- Dashboards anal√≠ticos

### Assinatura Digital
- Integra√ß√£o com certificado A1/A3
- Assinatura de documentos no sistema
- Valida√ß√£o de assinaturas
- Carimbo de tempo

### Multi-tenancy (SaaS)
- Separa√ß√£o por tenant (escrit√≥rios)
- Planos e assinaturas
- Billing integrado
- White-label

---

## üìà M√âTRICAS DE SUCESSO

### Fase 1
- [ ] 0 erros no console
- [ ] Todos os CRUDs funcionando
- [ ] Relat√≥rios gerando corretamente
- [ ] C√≥digo no GitHub

### Fase 2
- [ ] Templates gerando documentos
- [ ] Campos OAB preenchidos
- [ ] √Åreas do direito categorizando servi√ßos

### Fase 3
- [ ] Eventos sincronizando com Google
- [ ] Clientes acessando portal
- [ ] Notifica√ß√µes WhatsApp enviando

### Fase 4
- [ ] Dashboards de jurimetria
- [ ] Documentos assinados digitalmente
- [ ] M√∫ltiplos escrit√≥rios usando o sistema

---

## üîÑ PR√ìXIMA A√á√ÉO

**Agora:** Configurar GitHub e fazer primeiro commit

```bash
cd "/home/funil/√Årea de trabalho/VISUAL CODE/PROJETO 1/logisticajus"
git init
git remote add origin https://github.com/funil66/JURIS-MAIDEN-FINAL.git
git add .
git commit -m "üöÄ Initial commit - Log√≠sticaJus MVP completo"
git branch -M main
git push -u origin main
```

---

*Documento atualizado em: 20/12/2025 16:00*
